var __spreadArrays = (this && this.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};
import React from 'react';
export var useAssistiveHideSiblings = function (stackRef) {
    React.useEffect(function () {
        var _a, _b;
        var siblings = __spreadArrays((_b = (_a = stackRef.current) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.children).filter(function (el) { return el !== stackRef.current; });
        var prevAriaHidden = siblings.map(function (el) { return el.getAttribute('aria-hidden'); });
        siblings.forEach(function (el) {
            el.setAttribute('aria-hidden', 'true');
        });
        return function () {
            siblings.forEach(function (el, index) {
                var prev = prevAriaHidden[index];
                if (prev) {
                    el.setAttribute('aria-hidden', prev);
                }
                else {
                    el.removeAttribute('aria-hidden');
                }
            });
        };
    }, [stackRef]);
};
