{"ast":null,"code":"var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport styled from '@emotion/styled';\nimport { keyframes } from '@emotion/core';\nimport isPropValid from '@emotion/is-prop-valid';\nimport uuid from 'uuid/v4';\nimport Card from '@workday/canvas-kit-react-card';\nimport { IconButton } from '@workday/canvas-kit-react-button';\nimport { depth as depthValues, spacing } from '@workday/canvas-kit-react-core';\nimport { getTranslateFromOrigin } from '@workday/canvas-kit-react-common';\nimport { xIcon } from '@workday/canvas-system-icons-web';\nexport var PopupPadding;\n\n(function (PopupPadding) {\n  PopupPadding[\"zero\"] = \"0px\";\n  PopupPadding[\"s\"] = \"16px\";\n  PopupPadding[\"l\"] = \"32px\";\n})(PopupPadding || (PopupPadding = {}));\n\nvar closeIconSpacing = spacing.xs;\nvar closeIconSpacingSmall = 10;\n\nvar popupAnimation = function popupAnimation(transformOrigin) {\n  var translate = getTranslateFromOrigin(transformOrigin, spacing.xxs);\n  return keyframes(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    0% {\\n      opacity: 0;\\n      transform: translate(\", \"px, \", \"px);\\n    }\\n    100% {\\n      opacity: 1;\\n      transform: translate(0);\\n    }\\n  \"], [\"\\n    0% {\\n      opacity: 0;\\n      transform: translate(\", \"px, \", \"px);\\n    }\\n    100% {\\n      opacity: 1;\\n      transform: translate(0);\\n    }\\n  \"])), translate.x, translate.y);\n};\n\nvar Container = styled('div', {\n  shouldForwardProp: function shouldForwardProp(prop) {\n    return isPropValid(prop) && prop !== 'width';\n  }\n})({\n  position: 'relative',\n  maxWidth: \"calc(100vw - \" + spacing.l + \")\"\n}, function (_a) {\n  var width = _a.width;\n  return width && {\n    width: width\n  };\n}, function (_a) {\n  var transformOrigin = _a.transformOrigin;\n\n  if (transformOrigin === null) {\n    return {};\n  }\n\n  return {\n    animation: popupAnimation(transformOrigin),\n    animationDuration: '150ms',\n    animationTimingFunction: 'ease-out',\n    transformOrigin: transformOrigin.vertical + \" \" + transformOrigin.horizontal,\n    '.wd-no-animation &': {\n      animation: 'none'\n    }\n  };\n});\n\nvar getHeadingId = function getHeadingId(heading, id) {\n  return heading ? id : undefined;\n};\n\nvar getAriaLabel = function getAriaLabel(ariaLabel, headingId) {\n  var _a, _b;\n\n  if (ariaLabel) {\n    return _a = {}, _a['aria-label'] = ariaLabel, _a;\n  }\n\n  if (headingId) {\n    return _b = {}, _b['aria-labelledby'] = headingId, _b;\n  }\n\n  return undefined;\n};\n\nvar CloseIconContainer = styled('div')({\n  position: 'absolute'\n}, function (_a) {\n  var closeIconSize = _a.closeIconSize;\n  return {\n    right: closeIconSize === IconButton.Size.Small ? closeIconSpacingSmall : closeIconSpacing,\n    top: closeIconSize === IconButton.Size.Small ? closeIconSpacingSmall : closeIconSpacing\n  };\n});\n\nvar Popup = function (_super) {\n  __extends(Popup, _super);\n\n  function Popup() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.id = uuid();\n    _this.closeButtonRef = React.createRef();\n    return _this;\n  }\n\n  Popup.prototype.render = function () {\n    var _a = this.props,\n        _b = _a.padding,\n        padding = _b === void 0 ? Popup.Padding.l : _b,\n        _c = _a.closeIconSize,\n        closeIconSize = _c === void 0 ? 'medium' : _c,\n        _d = _a.closeButtonAriaLabel,\n        closeButtonAriaLabel = _d === void 0 ? 'Close' : _d,\n        _e = _a.transformOrigin,\n        transformOrigin = _e === void 0 ? {\n      horizontal: 'center',\n      vertical: 'top'\n    } : _e,\n        _f = _a.depth,\n        depth = _f === void 0 ? depthValues[2] : _f,\n        handleClose = _a.handleClose,\n        width = _a.width,\n        heading = _a.heading,\n        popupRef = _a.popupRef,\n        ariaLabel = _a.ariaLabel,\n        elemProps = __rest(_a, [\"padding\", \"closeIconSize\", \"closeButtonAriaLabel\", \"transformOrigin\", \"depth\", \"handleClose\", \"width\", \"heading\", \"popupRef\", \"ariaLabel\"]);\n\n    var headingId = getHeadingId(heading, this.id);\n    return React.createElement(Container, __assign({\n      transformOrigin: transformOrigin,\n      width: width,\n      role: \"dialog\",\n      ref: popupRef\n    }, getAriaLabel(ariaLabel, headingId), elemProps), handleClose && React.createElement(CloseIconContainer, {\n      closeIconSize: closeIconSize\n    }, React.createElement(IconButton, {\n      \"data-close\": \"close\",\n      buttonRef: this.closeButtonRef,\n      variant: IconButton.Variant.Plain,\n      size: closeIconSize,\n      onClick: handleClose,\n      icon: xIcon,\n      \"aria-label\": closeButtonAriaLabel\n    })), React.createElement(Card, {\n      depth: depth,\n      heading: heading,\n      headingId: headingId,\n      width: \"100%\",\n      padding: padding\n    }, this.props.children));\n  };\n\n  Popup.Padding = PopupPadding;\n  return Popup;\n}(React.Component);\n\nexport default Popup;\nexport var usePopup = function usePopup() {\n  var _a = React.useState(false),\n      open = _a[0],\n      setOpen = _a[1];\n\n  var _b = React.useState(null),\n      anchorElement = _b[0],\n      setAnchorElement = _b[1];\n\n  var stackRef = React.useRef(null);\n\n  var togglePopup = function togglePopup(event) {\n    setAnchorElement(event.currentTarget);\n    setOpen(!open);\n  };\n\n  return {\n    targetProps: {\n      onClick: togglePopup\n    },\n    closePopup: function closePopup() {\n      setOpen(false);\n    },\n    popperProps: {\n      open: open,\n      anchorElement: anchorElement,\n      ref: stackRef\n    },\n    stackRef: stackRef\n  };\n};\nvar templateObject_1;","map":null,"metadata":{},"sourceType":"module"}