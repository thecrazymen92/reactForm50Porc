{"ast":null,"code":"import React from 'react';\nimport { PopupStack } from '@workday/canvas-kit-popup-stack';\n\nvar focusElement = function focusElement(returnFocusRef) {\n  var _a;\n\n  (_a = returnFocusRef === null || returnFocusRef === void 0 ? void 0 : returnFocusRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n};\n\nexport var useCloseOnEscape = function useCloseOnEscape(stackRef, onClose, returnFocusRef) {\n  var onKeyDown = React.useCallback(function (event) {\n    if ((event.key === 'Esc' || event.key === 'Escape') && PopupStack.isTopmost(stackRef.current)) {\n      focusElement(returnFocusRef);\n      onClose();\n    }\n  }, [onClose, returnFocusRef, stackRef]);\n  React.useLayoutEffect(function () {\n    document.addEventListener('keydown', onKeyDown);\n    return function () {\n      document.removeEventListener('keydown', onKeyDown);\n    };\n  }, [onClose, onKeyDown]);\n};","map":null,"metadata":{},"sourceType":"module"}