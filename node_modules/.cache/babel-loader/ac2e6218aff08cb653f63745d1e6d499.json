{"ast":null,"code":"import React from 'react';\nimport { PopupStack } from '@workday/canvas-kit-popup-stack';\nexport var usePopupStack = function usePopupStack(forwardRef, target) {\n  var internalRef = React.useRef(null);\n  var ref = forwardRef || internalRef;\n  var popupRef = React.useState(function () {\n    var container = PopupStack.createContainer();\n    ref.current = container;\n    return container;\n  })[0];\n  React.useLayoutEffect(function () {\n    if (popupRef !== ref.current) {\n      throw Error(\"The 'ref' passed to usePopupStack should not be applied to a React element. This will cause a runtime error where the PopupStack and React compete for the element. Instead use ReactDOM.createPortal(<YourComponent />, ref.current)\");\n    }\n\n    var targetEl = target ? 'current' in target ? target.current || undefined : target : undefined;\n    PopupStack.add({\n      element: ref.current,\n      owner: targetEl\n    });\n    var element = ref.current;\n    return function () {\n      PopupStack.remove(element);\n    };\n  }, [ref, target, popupRef]);\n  return ref;\n};","map":null,"metadata":{},"sourceType":"module"}